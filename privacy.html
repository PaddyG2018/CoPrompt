<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CoPrompt V2 Privacy Policy</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
          Arial, sans-serif;
        line-height: 1.6;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        color: #333;
      }
      h1,
      h2 {
        color: #0070f3;
      }
      .consent-section {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }
      .consent-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin: 15px 0;
      }
      .consent-option {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      button {
        background: #0070f3;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }
      button:hover {
        background: #0051a2;
      }
      .data-retention {
        margin: 20px 0;
        padding: 15px;
        border-left: 4px solid #0070f3;
        background: #f8f9fa;
      }
    </style>
  </head>
  <body>
    <h1>CoPrompt V2 Privacy Policy</h1>
    <p>Last updated: <span id="last-updated"></span></p>

    <h2>Introduction</h2>
    <p>
      CoPrompt is committed to protecting your privacy. This policy explains how
      we collect, use, and protect your data when you use our Chrome extension
      with our credit-based AI enhancement service.
    </p>

    <h2>Data Collection</h2>
    <p>We collect the following types of data:</p>
    <ul>
      <li>
        <strong>Account Information:</strong> Your email address for user
        authentication and account management
      </li>
      <li>
        <strong>Credit Usage:</strong> Records of your credit balance,
        purchases, and enhancement requests
      </li>
      <li>
        <strong>Prompt Data:</strong> The text prompts you choose to enhance are
        sent to OpenAI for processing and may be retained according to OpenAI's
        data retention policies (typically 30 days). We do not store prompts on
        our servers.
      </li>
      <li>
        <strong>Usage Analytics:</strong> Aggregated usage statistics to improve
        our service
      </li>
      <li>
        <strong>Payment Information:</strong> Processed securely through Stripe
        (we do not store payment details)
      </li>
      <li>
        <strong>Extension Preferences:</strong> Your UI settings and preferences
        (stored locally in your browser)
      </li>
    </ul>

    <h2>Data Usage</h2>
    <p>Your data is used to:</p>
    <ul>
      <li>Authenticate your account and manage your subscription</li>
      <li>
        Process your prompts through our AI enhancement service via OpenAI's API
      </li>
      <li>Track and manage your credit balance and usage</li>
      <li>Process payments for credit purchases through Stripe</li>
      <li>Improve our service quality and user experience</li>
      <li>Provide customer support when needed</li>
      <li>Send important service notifications (with your consent)</li>
    </ul>

    <h2>Third-Party Data Processors</h2>
    <p>
      We use the following third-party services to provide our functionality:
    </p>
    <ul>
      <li>
        <strong>OpenAI:</strong> Processes your prompts to generate enhanced
        versions. Data may be retained by OpenAI according to their data
        retention policies (typically 30 days). View OpenAI's privacy policy at
        <a href="https://openai.com/privacy" target="_blank"
          >https://openai.com/privacy</a
        >
      </li>
      <li>
        <strong>Stripe:</strong> Processes payments for credit purchases. We do
        not store payment details - these are handled directly by Stripe
        according to their privacy policy.
      </li>
      <li>
        <strong>Supabase:</strong> Provides authentication, database, and
        hosting services. User account data is stored according to Supabase's
        privacy policies.
      </li>
    </ul>

    <h2>Data Protection & Security</h2>
    <p>We implement comprehensive security measures:</p>
    <ul>
      <li>
        <strong>Encryption:</strong> All data transmission uses HTTPS/TLS
        encryption
      </li>
      <li>
        <strong>Authentication:</strong> Secure user authentication through
        Supabase Auth
      </li>
      <li>
        <strong>Database Security:</strong> Row-level security policies protect
        your personal data
      </li>
      <li>
        <strong>Payment Security:</strong> Payment processing handled by
        PCI-compliant Stripe
      </li>
      <li>
        <strong>Third-Party Processing:</strong> Prompts are processed via
        OpenAI's API and subject to OpenAI's data handling policies
      </li>
      <li>
        <strong>Access Controls:</strong> Strict access controls and audit logs
        for all data access
      </li>
    </ul>

    <div class="data-retention">
      <h3>Data Retention</h3>
      <p>Your data is retained as follows:</p>
      <ul>
        <li>
          <strong>Account information:</strong> Until you delete your account
        </li>
        <li>
          <strong>Credit transaction records:</strong> 7 years for tax and
          compliance purposes
        </li>
        <li>
          <strong>Usage analytics:</strong> Aggregated data retained
          indefinitely for service improvement
        </li>
        <li>
          <strong>Enhanced prompts:</strong> Processed via OpenAI API; retained
          according to OpenAI's data retention policies
        </li>
        <li>
          <strong>Extension preferences:</strong> Stored locally until you reset
          or uninstall the extension
        </li>
      </ul>
    </div>

    <div class="consent-section">
      <h2>Your Consent</h2>
      <p>Please review and select your privacy preferences:</p>
      <div class="consent-options">
        <div class="consent-option">
          <input type="checkbox" id="usage-stats" checked />
          <label for="usage-stats">Allow collection of usage statistics</label>
        </div>
        <div class="consent-option">
          <input type="checkbox" id="error-logs" checked />
          <label for="error-logs">Allow error logging for debugging</label>
        </div>
        <div class="consent-option">
          <input type="checkbox" id="preferences" checked />
          <label for="preferences">Allow storage of my preferences</label>
        </div>
      </div>
      <button id="save-preferences">Save Preferences</button>
    </div>

    <h2>Your Rights</h2>
    <p>You have the right to:</p>
    <ul>
      <li>Access your stored data</li>
      <li>Delete your account and all associated data</li>
      <li>Export your usage data</li>
      <li>Modify your privacy preferences</li>
    </ul>

    <h2>Contact Us</h2>
    <p>
      If you have any questions about our privacy policy, please contact us at:
    </p>
    <p>Email: privacy@coprompt.com</p>

    <script>
      // Set last updated date
      document.getElementById("last-updated").textContent =
        new Date().toLocaleDateString();

      // Load saved preferences
      chrome.storage.sync.get(["privacy_preferences"], function (result) {
        const preferences = result.privacy_preferences || {
          usageStats: true,
          errorLogs: true,
          preferences: true,
        };

        document.getElementById("usage-stats").checked = preferences.usageStats;
        document.getElementById("error-logs").checked = preferences.errorLogs;
        document.getElementById("preferences").checked =
          preferences.preferences;
      });

      // Save preferences
      document
        .getElementById("save-preferences")
        .addEventListener("click", function () {
          const preferences = {
            usageStats: document.getElementById("usage-stats").checked,
            errorLogs: document.getElementById("error-logs").checked,
            preferences: document.getElementById("preferences").checked,
          };

          chrome.storage.sync.set(
            { privacy_preferences: preferences },
            function () {
              alert("Privacy preferences saved successfully!");
            },
          );
        });
    </script>
  </body>
</html>
